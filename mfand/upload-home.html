<!DOCTYPE html>
<html>
<head>
<style>
h1 {text-align: center; color: blue}
th {text-align: left;}
table {
  border: 1px solid black;
}
body {background: linear-gradient(90deg, rgba(255,192,96,0.9),rgba(192,192,255,0.9),rgba(128,64,255,0.9));
      font-size: large;}
button {
 background-color: rgba(128,128,255,0.2);
}
</style>
</head>
<body>
<h1>Cloud Home</h1>
<center>
$v:loginText$
</center>

<script>
function updateStatusInternal() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
      if (xhttp.readyState == 4 && xhttp.status == 200) {
        document.getElementById("statusData").innerHTML =
          xhttp.responseText;
      }
  };
  xhttp.open("GET", "statusData", true);
  xhttp.send();
}

function updateStatus() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
      if (xhttp.readyState == 4 && xhttp.status == 200) {
        document.getElementById("statusData").innerHTML =
          xhttp.responseText;
        setInterval(updateStatus, 10000);
      }
  };
  xhttp.open("GET", "statusData", true);
  xhttp.send();
}

function loadConfig() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
      if (xhttp.readyState == 4 && xhttp.status == 200) {
        document.getElementById("loadConfig").innerHTML =
          xhttp.responseText;
      }
  };
  xhttp.open("GET", "loadConfig", true);
  xhttp.send();

  setInterval(updateStatus, 10000);
}

window.onload=updateStatus

</script>

<center>
<div id="statusData">[No update yet]</div>
<p>
<button type="button" onclick="updateStatusInternal()">Update status now</button>
</center>

</body>
</html>
